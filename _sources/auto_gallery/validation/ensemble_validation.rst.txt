
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_gallery/validation/ensemble_validation.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_auto_gallery_validation_ensemble_validation.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_gallery_validation_ensemble_validation.py:


Validation
==========

Credit: A Grigis

pycaravel is a Python package that enables you to apply validators.
In this tutorial you will learn how to get and apply validators.

First checks
------------

In order to test if pycaravel package is installed on your machine, you can
check the package version.

.. GENERATED FROM PYTHON SOURCE LINES 16-23

.. code-block:: default


    import os
    import caravel

    print(caravel.__version__)
    print(caravel.info())


.. GENERATED FROM PYTHON SOURCE LINES 24-29

Load the validators
-------------------

First load the validators of the 'ensemble' project that only check the
VIDEO data.

.. GENERATED FROM PYTHON SOURCE LINES 29-40

.. code-block:: default


    from ensemble.validation import get_validators
    from ensemble.validation import ValidationBase

    ValidationBase.__level__ = "debug"
    ValidationBase.setup_logging()

    validators = get_validators(family="video.*")
    print(validators)



.. GENERATED FROM PYTHON SOURCE LINES 41-45

Apply validators
----------------

Apply the loaded validators and generate a report.

.. GENERATED FROM PYTHON SOURCE LINES 45-63

.. code-block:: default


    import ensemble
    from pprint import pprint
    from caravel.validation import run_validation

    datadir = "/neurospin/rlink/workspace/ci_toy/ensemble/ensemble-videoraw-upload"
    projectdir = os.path.dirname(os.path.realpath(ensemble.__file__))
    parser = caravel.get_parser(
        project="ensemble-videoraw", confdir=os.path.join(projectdir, "conf"),
        layoutdir=None)
    parser.pickling_layout(
        bids_root=datadir, name="rawdata", outdir=datadir)
    data = {
        "layoutdir": datadir,
        "confdir": os.path.join(projectdir, "conf"),
        "project": "ensemble-videoraw"}
    report = run_validation(data, validators=validators, logfile=None)
    pprint(report)


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  0.000 seconds)

**Estimated memory usage:**  0 MB


.. _sphx_glr_download_auto_gallery_validation_ensemble_validation.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: ensemble_validation.py <ensemble_validation.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: ensemble_validation.ipynb <ensemble_validation.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
