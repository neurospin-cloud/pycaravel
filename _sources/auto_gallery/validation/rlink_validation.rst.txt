
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_gallery/validation/rlink_validation.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_gallery_validation_rlink_validation.py>`
        to download the full example code.

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_gallery_validation_rlink_validation.py:


Validation
==========

Credit: A Grigis

pycaravel is a Python package that enables you to apply validators.
In this tutorial you will learn how to get and apply validators.

First checks
------------

In order to test if pycaravel package is installed on your machine, you can
check the package version.

.. GENERATED FROM PYTHON SOURCE LINES 16-29

.. code-block:: Python


    import os
    from pprint import pprint

    import rlink
    from rlink.validation import get_validators

    import caravel
    from caravel.validation import run_validation

    print(caravel.__version__)
    print(caravel.info())


.. GENERATED FROM PYTHON SOURCE LINES 30-35

Load the validators
-------------------

First load the validators of the 'rlink' project that only check the
MRI structure.

.. GENERATED FROM PYTHON SOURCE LINES 35-40

.. code-block:: Python


    validators = get_validators(family="mri.structure")
    print(validators)



.. GENERATED FROM PYTHON SOURCE LINES 41-45

Apply validators
----------------

Apply the loaded validators and generate a report.

.. GENERATED FROM PYTHON SOURCE LINES 45-61

.. code-block:: Python


    datadir = "/neurospin/rlink/workspace/ci_toy/rlink-mri-upload"
    projectdir = os.path.dirname(os.path.realpath(rlink.__file__))
    parser = caravel.get_parser(
        project="rlink-mri", confdir=os.path.join(projectdir, "conf"),
        layoutdir=None)
    parser.pickling_layout(
        bids_root=datadir, name="sourcedata", outdir=datadir)
    parser.pickling_layout(
        bids_root=datadir, name="rawdata", outdir=datadir)
    data = {
        "layoutdir": datadir,
        "confdir": os.path.join(projectdir, "conf"),
        "project": "rlink-mri"}
    report = run_validation(data, validators=validators, logfile=None)
    pprint(report)

**Estimated memory usage:**  0 MB


.. _sphx_glr_download_auto_gallery_validation_rlink_validation.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: rlink_validation.ipynb <rlink_validation.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: rlink_validation.py <rlink_validation.py>`

    .. container:: sphx-glr-download sphx-glr-download-zip

      :download:`Download zipped: rlink_validation.zip <rlink_validation.zip>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
